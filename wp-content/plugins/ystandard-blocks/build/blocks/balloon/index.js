(()=>{var t,e={655:(t,e)=>{var r;!function(){"use strict";var o=function(){function t(){}function e(t,e){for(var r=e.length,o=0;o<r;++o)a(t,e[o])}t.prototype=Object.create(null);var r={}.hasOwnProperty,o=/\s+/;function a(t,a){if(a){var n=typeof a;"string"===n?function(t,e){for(var r=e.split(o),a=r.length,n=0;n<a;++n)t[r[n]]=!0}(t,a):Array.isArray(a)?e(t,a):"object"===n?function(t,e){if(e.toString===Object.prototype.toString||e.toString.toString().includes("[native code]"))for(var o in e)r.call(e,o)&&(t[o]=!!e[o]);else t[e.toString()]=!0}(t,a):"number"===n&&function(t,e){t[e]=!0}(t,a)}}return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var n=new t;e(n,o);var l=[];for(var s in n)n[s]&&l.push(s);return l.join(" ")}}();t.exports?(o.default=o,t.exports=o):void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)}()},899:(t,e,r)=>{"use strict";const o=window.React;var a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=o.createContext&&o.createContext(a),l=["attr","size","title"];function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},s.apply(this,arguments)}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){var o,a,n,l;o=t,a=e,n=r[e],l=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a),(a="symbol"==typeof l?l:l+"")in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t){return t&&t.map(((t,e)=>o.createElement(t.tag,c({key:e},t.attr),d(t.child))))}function u(t){return e=>o.createElement(b,s({attr:c({},t.attr)},e),d(t.child))}function b(t){var e=e=>{var r,{attr:a,size:n,title:i}=t,d=function(t,e){if(null==t)return{};var r,o,a=function(t,e){if(null==t)return{};var r={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;r[o]=t[o]}return r}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)r=n[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(t,l),u=n||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),o.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,a,d,{className:r,style:c(c({color:t.color||e.color},e.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),t.children)};return void 0!==n?o.createElement(n.Consumer,null,(t=>e(t))):e(a)}function p(t){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function v(t){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}const x=window.wp.blocks,m=(window.lodash,(t,e)=>{const r=window.ystdtbBlockEditor&&"object"==typeof window.ystdtbBlockEditor&&window.ystdtbBlockEditor.hasOwnProperty("defaultAttributes")?window.ystdtbBlockEditor.defaultAttributes:{};if(!r)return e;if(!r.hasOwnProperty(t))return e;const o=r[t];return Object.keys(o).map((t=>(e.hasOwnProperty(t)&&(e[t].default=o[t]),o))),e});function f(t,e=void 0){return window.ystdb&&"object"==typeof window.ystdb&&window.ystdb.hasOwnProperty(t)?window.ystdb[t]:e}const h=window.wp.i18n;(0,h.__)("なし","ystandard-blocks"),(0,h.__)("キラキラ","ystandard-blocks");var g=r(942),y=r.n(g);const j=window.wp.blockEditor,_=window.wp.components,C=window.wp.compose;function k(t){var e,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=k(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}const w=window.wp.mediaUtils,N=window.ReactJSXRuntime,B=["image"];function S(t){const{onSelect:e,value:r,render:o,useMediaUtils:a,mediaTypes:n}=t,l=a?w.MediaUpload:j.MediaUpload;return(0,N.jsx)(l,{onSelect:e,value:r,render:t=>o({obj:t,media:{id:r}}),allowedTypes:n||B,multiple:!1,gallery:!1})}function O(t){const{media:e,mediaTypes:r,controlSize:o="normal",onSelect:a,onClear:n,useMediaUtils:l}=t,s="string"==typeof e?{url:e}:e;return(0,N.jsx)(S,{value:s?.id||0,mediaTypes:r,onSelect:a,useMediaUtils:l,render:({obj:e})=>(0,N.jsx)(P,{obj:e,media:s,onClear:n,selectLabel:t.selectLabel,clearLabel:t.clearLabel,controlSize:o})})}const z="画像を選択",A="画像をクリア";function P(t){const{obj:e,media:r,controlSize:o="normal",onClear:a,selectLabel:n,clearLabel:l}=t,s=e.open,i=r?.type||"image",c=r?.id||0,d=r?.url||"",u=r?.alt||"",b=n||z,p=l||A,v=function(){for(var t,e,r=0,o="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=k(t))&&(o&&(o+=" "),o+=e);return o}("flex !h-auto  w-full items-center justify-center border border-solid border-gray-300 !bg-gray-100 !text-black [&:not(:focus,:hover)]:!shadow-none",{"min-h-[100px]":"normal"===o,"min-h-[40px]":"small"===o});return c||d?(0,N.jsxs)("div",{className:"relative flex flex-col",children:[(0,N.jsx)(_.Button,{onClick:s,className:"aktk-components__media-upload-select-button !h-auto !p-0","data-selectLabel":b,"data-clearLabel":p,children:(0,N.jsx)(T,{type:i,url:d,alt:u})}),(0,N.jsx)("div",{className:"aktk-components__media-upload-clear-button flex justify-center",children:(0,N.jsx)(_.Button,{onClick:a,className:"!text-fz-xs",isDestructive:!0,"data-selectLabel":b,"data-clearLabel":p,children:l||A})})]}):(0,N.jsx)(_.Button,{className:v,variant:"secondary",onClick:s,"data-selectLabel":b,"data-clearLabel":p,children:n||z})}function T(t){const{type:e,url:r,alt:o}=t;return(0,N.jsxs)(N.Fragment,{children:["image"===e&&(0,N.jsx)("img",{className:"block h-auto max-w-full",src:r,alt:o}),"video"===e&&(0,N.jsx)("video",{className:"block h-auto max-w-full",muted:!0,controls:!0,src:r})]})}function L(t){return"serif-border"===t}const $=(t,e)=>{const r=f("balloonOption",{});return L(t)&&!e?r.contentBackground:e},D=window.wp.element;function W(t){const{title:e,initialOpen:r,children:o}=t,[a,n]=(0,D.useState)(!1),l=()=>{"function"==typeof r&&n(r()),n(null!=r&&r)};return(0,D.useEffect)((()=>{l()}),[]),(0,D.useEffect)((()=>{l()}),[r]),(0,N.jsx)(_.PanelBody,{title:e,initialOpen:a,onToggle:()=>{n(!a)},children:o})}function F(t){return(0,N.jsx)(_.Button,{...t,__next40pxDefaultSize:!0})}function E(t){const{variant:e,className:r,onClick:o,style:a,children:n,disabled:l,isBusy:s,icon:i,iconSize:c,isSmall:d,text:u,isDestructive:b}=t,p=y()(r),v={...a};return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(F,{variant:e,className:p,style:v,onClick:o,disabled:l,isBusy:s,icon:i,iconSize:c,isSmall:d,text:u,isDestructive:b,children:n})})}function I(t){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(E,{...t})})}function R(t){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(E,{variant:"primary",...t})})}function M(t){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(E,{variant:"secondary",...t})})}function U({children:t,className:e}){const r=y()("aktk-components__horizon-buttons",e);return(0,N.jsx)("div",{className:r,children:t})}function V(t){return(0,N.jsx)(_.BaseControl,{...t,__nextHasNoMarginBottom:!0})}const H=[{label:(0,h.__)("右","ystandard-blocks"),value:"right"},{label:(0,h.__)("左","ystandard-blocks"),value:"left"}];function q(t){const{attributes:e,setAttributes:r}=t,{balloonPosition:o}=e;return(0,N.jsx)(V,{id:"balloon-position",label:(0,h.__)("吹き出しの向き","ystandard-blocks"),children:(0,N.jsx)(U,{children:H.map((t=>{const e=t.value,a=t.label,n=e===o?R:M;return(0,N.jsx)(n,{onClick:()=>{r({balloonPosition:e})},children:a},e)}))})})}const G=[{label:(0,h.__)("会話","ystandard-blocks"),value:"serif"},{label:(0,h.__)("会話(枠線)","ystandard-blocks"),value:"serif-border"},{label:(0,h.__)("考え中","ystandard-blocks"),value:"think"}];function J(t){const{attributes:e,setAttributes:r}=t,{balloonType:o}=e;return(0,N.jsx)(V,{id:"balloon-types",label:(0,h.__)("吹き出しタイプ","ystandard-blocks"),children:(0,N.jsx)(U,{children:G.map((t=>{const e=t.value,a=t.label,n=e===o?R:M;return(0,N.jsx)(n,{onClick:()=>{r({balloonType:e})},children:a},e)}))})})}function X(t){return(0,N.jsx)(_.FontSizePicker,{...t,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}function K(t){const{fontSize:e,setFontSize:r}=t;return(0,N.jsx)(V,{id:"balloon-font-size",label:(0,h.__)("文字サイズ","ystandard-blocks"),children:(0,N.jsx)(X,{value:e.size,onChange:t=>{r(t)}})})}var Q=r(655),Y=r.n(Q);const Z=({colorValue:t,label:e})=>(0,N.jsxs)(_.__experimentalHStack,{justify:"flex-start",children:[(0,N.jsx)(_.ColorIndicator,{className:"block-editor-panel-color-gradient-settings__color-indicator",colorValue:t}),(0,N.jsx)(_.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:e,children:e})]});function tt({colorValue:t,label:e,children:r}){return(0,N.jsx)(_.Dropdown,{popoverProps:{placement:"left-start",offset:36,shift:!0},className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:(o={colorValue:t,label:e},({onToggle:t,isOpen:e})=>{const{colorValue:r,label:a}=o,n={onClick:t,className:Y()("block-editor-panel-color-gradient-settings__dropdown","border border-solid border-gray-300",{"is-open":e}),"aria-expanded":e};return(0,N.jsx)(_.Button,{...n,children:(0,N.jsx)(Z,{colorValue:r,label:a})})}),renderContent:()=>(0,N.jsx)(_.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,N.jsx)("div",{className:"block-editor-color-gradient-control__panel w-[260px] p-4",children:r})})});var o}const et=window.wp.data,rt=window.wp.editor,ot={name:"currentColor",slug:"currentColor",color:"currentColor"},at={name:"transparent",slug:"transparent",color:"transparent"};function nt(t){const{label:e,value:r,onChange:o,colors:a,enableCurrentColor:n,enableTransparent:l}=t,s=(t=>{const{enableCurrentColor:e=!1,enableTransparent:r=!1}=t||{},[o,a,n,l]=(0,j.useSettings)("color.palette.default","color.palette.theme","color.palette.custom","color.defaultPalette"),s=(0,et.useSelect)((t=>{const e=t(rt.store)?.getEditorSettings();return e?.colors||[]}),[]);return(0,D.useMemo)((()=>{const t=[];return a&&a.length?t.push({name:(0,h._x)("テーマ","useThemeColors","ystandard-blocks"),colors:[...a,...e?[ot]:[],...r?[at]:[]]}):s&&s.length&&t.push({name:(0,h._x)("テーマ","useThemeColors","ystandard-blocks"),colors:[...s,...e?[ot]:[],...r?[at]:[]]}),l&&o&&o.length&&t.push({name:(0,h._x)("デフォルト","useThemeColors","ystandard-blocks"),colors:o}),n&&n.length&&t.push({name:(0,h._x)("カスタム","useThemeColors","ystandard-blocks"),colors:n}),t}),[n,a,o,l,s])})({enableCurrentColor:n,enableTransparent:l});return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(tt,{colorValue:r,label:e,children:(0,N.jsx)(_.ColorPalette,{className:"aktk-components__color-palette-control",value:r,onChange:(t,e)=>{o(t,e)},disableCustomColors:!1,colors:a||s})})})}function lt(t){const{backgroundColor:e,setBackgroundColor:r,setBalloonBorderColor:o,attributes:a}=t;return(0,N.jsx)(V,{id:"balloon-background-color",label:(0,h.__)("吹き出し背景色","ystandard-blocks"),children:(0,N.jsx)(nt,{label:(0,h.__)("吹き出し背景色","ystandard-blocks"),value:e.color,onChange:t=>{r(t),L(a?.balloonType)||o(t)}})})}function st(t){const{textColor:e,backgroundColor:r,setTextColor:o}=t;return(0,N.jsxs)(V,{id:"balloon-text-color",label:(0,h.__)("吹き出し文字色","ystandard-blocks"),children:[(0,N.jsx)(nt,{label:(0,h.__)("吹き出し文字色","ystandard-blocks"),value:e.color,onChange:t=>{o(t)}}),(0,N.jsx)(j.ContrastChecker,{backgroundColor:r.color,textColor:e.color})]})}function it(t){return(0,N.jsx)(_.__experimentalUnitControl,{...t,__next40pxDefaultSize:!0})}const ct=[{value:"px",label:"px"}];function dt(t){const{attributes:e,setAttributes:r}=t,{balloonBorderWidth:o,balloonType:a}=e;if(!L(a))return(0,N.jsx)(N.Fragment,{});const n=o?`${o}px`:"";return(0,N.jsx)(V,{id:"balloon-border-width",label:(0,h.__)("吹き出し枠線太さ","ystandard-blocks"),children:(0,N.jsx)(it,{value:n,onChange:t=>{const e=t?parseInt(t,10):void 0;r({balloonBorderWidth:e})},units:ct})})}function ut(t){const{attributes:e,balloonBorderColor:r,setBalloonBorderColor:o}=t;return L(e?.balloonType)?(0,N.jsx)(V,{id:"balloon-border-color",label:(0,h.__)("吹き出し枠線色","ystandard-blocks"),children:(0,N.jsx)(nt,{label:(0,h.__)("吹き出し枠線色","ystandard-blocks"),value:r.color,onChange:t=>{o(t)}})}):(0,N.jsx)(N.Fragment,{})}function bt(t){return(0,N.jsxs)(W,{title:(0,h.__)("吹き出し設定","ystandard-blocks"),children:[(0,N.jsx)(q,{...t}),(0,N.jsx)(J,{...t}),(0,N.jsx)(K,{...t}),(0,N.jsx)(lt,{...t}),(0,N.jsx)(st,{...t}),(0,N.jsx)(dt,{...t}),(0,N.jsx)(ut,{...t})]})}function pt(t){const{url:e,text:r=(0,h.__)("マニュアルを見る","aktk-components"),target:o="_blank"}=t;return(0,N.jsxs)("a",{className:"flex items-center gap-1 text-fz-xs",href:e,target:o,children:[(0,N.jsx)(p,{size:12}),(0,N.jsx)("span",{children:r})]})}function vt(){return(0,N.jsx)(V,{children:(0,N.jsxs)("div",{className:"text-fz-xs",children:[(0,N.jsxs)("div",{className:"text-gray-400 [&>p]:!text-[11px]",children:[(0,N.jsx)("p",{children:(0,h.__)("登録済みのアバター画像はありません。","ystandard-blocks")}),(0,N.jsx)("p",{children:(0,h.__)("「yStandard Blocks」設定画面の「吹き出し登録」からよく使うアバター画像を登録できます。","ystandard-blocks")})]}),(0,N.jsx)("p",{children:(0,N.jsx)(pt,{url:"https://wp-ystandard.com/manual/ystdb-balloon-avatar-setting/"})})]})})}function xt(t){const{images:e,attributes:r,setAttributes:o}=t,{avatarID:a,avatarName:n}=r,l=t=>{o({avatarID:t.id,avatarName:t.name,avatarURL:t.url,avatarAlt:t.name})};return(0,N.jsx)(V,{children:(0,N.jsx)("div",{className:"grid grid-cols-3 gap-3",children:e.map((t=>{const e=`${t.id}-${t.name}`;return(0,N.jsx)(mt,{item:t,avatarID:a,avatarName:n,onClick:l},e)}))})})}function mt(t){const{item:e,avatarID:r,avatarName:o,onClick:a}=t,n=r===e.id&&o===e.name;return(0,N.jsxs)(I,{className:y()("block !h-auto !p-0",{"":!n}),onClick:()=>a(e),children:[(0,N.jsx)("img",{className:y()("block aspect-square w-full rounded-full object-cover",{grayscale:!n}),src:e.url,alt:e.name}),!!e.name&&(0,N.jsx)("span",{className:"mt-1 block max-w-full truncate text-fz-xxs",children:e.name})]})}function ft(t){const e=f("balloonImages");return(0,N.jsx)(W,{title:(0,h.__)("登録済みアバター画像","ystandard-blocks"),initialOpen:!0,children:e.length?(0,N.jsx)(xt,{...t,images:e}):(0,N.jsx)(vt,{})})}const ht=[{label:(0,h.__)("小","ystandard-blocks"),value:"small"},{label:(0,h.__)("大","ystandard-blocks"),value:"large"}];function gt(t){const{attributes:e,setAttributes:r}=t,{avatarSize:o}=e;return(0,N.jsx)(V,{id:"avatar-size",label:(0,h.__)("アバターサイズ","ystandard-blocks"),children:(0,N.jsx)(U,{children:ht.map((t=>{const e=t.value,a=t.label,n=e===o?R:M;return(0,N.jsx)(n,{onClick:()=>{r({avatarSize:e})},children:a},e)}))})})}const yt=[{value:"px",label:"px"}];function jt(t){const{attributes:e,setAttributes:r}=t,{avatarBorderRadius:o}=e,a=o?`${o}px`:"";return(0,N.jsx)(V,{id:"avatar-border-radius",label:(0,h.__)("アバター画像の角丸","ystandard-blocks"),children:(0,N.jsx)(it,{value:a,onChange:t=>{const e=t?parseInt(t,10):void 0;r({avatarBorderRadius:e})},units:yt})})}const _t=[{value:"px",label:"px"}];function Ct(t){const{attributes:e,setAttributes:r}=t,{avatarBorderWidth:o}=e,a=o?`${o}px`:"";return(0,N.jsx)(V,{id:"avatar-border-width",label:(0,h.__)("アバター画像の枠線太さ","ystandard-blocks"),children:(0,N.jsx)(it,{value:a,onChange:t=>{const e=t?parseInt(t,10):void 0;r({avatarBorderWidth:e})},units:_t})})}function kt(t){const{avatarBorderColor:e,setAvatarBorderColor:r}=t;return(0,N.jsx)(V,{id:"avatar-border-color",label:(0,h.__)("アバター画像枠線色","ystandard-blocks"),children:(0,N.jsx)(nt,{label:(0,h.__)("アバター画像枠線色","ystandard-blocks"),value:e.color,onChange:t=>{r(t)}})})}function wt(t){const{avatarNameColor:e,setAvatarNameColor:r}=t;return(0,N.jsx)(V,{id:"avatar-border-color",label:(0,h.__)("アバター名前文字色","ystandard-blocks"),children:(0,N.jsx)(nt,{label:(0,h.__)("アバター名前文字色","ystandard-blocks"),value:e.color,onChange:t=>{r(t)}})})}function Nt(t){return(0,N.jsxs)(W,{title:(0,h.__)("アバター設定","ystandard-blocks"),children:[(0,N.jsx)(gt,{...t}),(0,N.jsx)(jt,{...t}),(0,N.jsx)(Ct,{...t}),(0,N.jsx)(kt,{...t}),(0,N.jsx)(wt,{...t})]})}function Bt(t){return(0,N.jsxs)(j.InspectorControls,{children:[(0,N.jsx)(ft,{...t}),(0,N.jsx)(bt,{...t}),(0,N.jsx)(Nt,{...t})]})}function St(t){const{attributes:e,setAttributes:r}=t,{verticalAlign:o}=e;return(0,N.jsx)(j.BlockVerticalAlignmentControl,{onChange:t=>{r({verticalAlign:t})},value:o})}function Ot(t){return(0,N.jsx)(j.BlockControls,{children:(0,N.jsx)(_.ToolbarGroup,{children:(0,N.jsx)(St,{...t})})})}function zt(t){const{avatarBorderColor:e,avatarNameColor:r,attributes:o,setAttributes:a,isSelected:n}=t,{avatarID:l,avatarURL:s,avatarAlt:i,avatarSize:c,avatarBorderWidth:d,avatarBorderRadius:u,avatarName:b}=o,p=y()("ystdb-balloon__avatar","relative",{[`is-size-${c}`]:c,"has-avatar":l}),v={borderColor:e.color,borderWidth:0<d?d:void 0,borderRadius:u},x=y()("ystdb-balloon__avatar-image",{"has-border-color":e.color,[e.class]:e.class,"has-border":0<d}),m=l||s?{id:l,url:s,alt:i}:void 0;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("figure",{className:p,children:[n?(0,N.jsx)("div",{className:x,style:v,children:(0,N.jsx)(O,{media:m,onSelect:t=>{a({avatarID:t?t.id:void 0,avatarURL:t?t.url:void 0,avatarAlt:t?t.alt:void 0})},onClear:()=>{a({avatarID:void 0,avatarURL:void 0,avatarAlt:void 0})},clearLabel:(0,h.__)("画像をクリア","ystandard-blocks")})}):(0,N.jsx)("img",{className:x,src:s,alt:i,style:v}),(0,N.jsx)(At,{isSelected:n,avatarName:b,setAttributes:a,avatarNameColor:r})]})})}function At(t){const{isSelected:e,avatarName:r,setAttributes:o,avatarNameColor:a}=t,n={color:a?.color,padding:"0.1em 0.25em",height:"auto"},l=y()("ystdb-balloon__name",{"has-text-color":a?.color,[a?.class||""]:a?.class}),s=()=>r?(0,N.jsx)(N.Fragment,{children:r}):(0,N.jsx)(N.Fragment,{});return(0,N.jsx)("figcaption",{className:l,children:e?(0,N.jsx)(_.TextControl,{value:r,className:"ystdb-balloon__name--edit",onChange:t=>{o({avatarName:t})},style:n,placeholder:(0,h.__)("名前…","ystandard-blocks"),"aria-label":(0,h.__)("Name"),"data-1p-ignore":!0,"data-lpignore":!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,N.jsx)(s,{})})}function Pt(t){const{attributes:e,setAttributes:r,backgroundColor:o,balloonBorderColor:a,textColor:n,fontSize:l}=t,{verticalAlign:s,balloonPosition:i,balloonType:c,balloonBorderWidth:d,text:u}=e,b=L(c),p={backgroundColor:$(c,o.color),borderColor:a.color,borderWidth:b?d:void 0},v=y()("ystdb-balloon__body",{[o.class]:o.class,"has-background":o.color,[a.class]:a.class,"has-border-color":a.color,[`is-${s}`]:s,[`is-${i}`]:i,[`is-${c}`]:c}),x={color:n.color,fontSize:l.size?l.size:void 0},m=y()("ystdb-ystdb-balloon__text",{[n.class]:n.class,"has-text-color":n.color,[l.class]:l.class}),f=6-parseInt(null!=d?d:1,10),g={backgroundColor:$(c,o.color),borderColor:a.color,borderWidth:d,right:"right"===i?`calc(100% - ${f}px)`:void 0,left:"left"===i?`calc(100% - ${f}px)`:void 0},_=y()("ystdb-balloon__serif-triangle",{[o.class]:o.class,"has-background":o.color,[a.class]:a.class,"has-border-color":a.color});return(0,N.jsxs)("div",{className:v,style:p,children:[(0,N.jsx)(j.RichText,{tagName:"p",placeholder:(0,h.__)("Add text…"),value:u,onChange:t=>r({text:t}),className:m,style:x}),b&&(0,N.jsx)("div",{className:_,style:g,"aria-hidden":!0})]})}const Tt=(0,C.compose)([(0,j.withColors)("backgroundColor",{textColor:"color",avatarNameColor:"color",avatarBorderColor:"borderColor",balloonBorderColor:"borderColor"}),(0,j.withFontSizes)("fontSize")])((function(t){const{attributes:e,className:r}=t,{verticalAlign:o,balloonPosition:a}=e,n=(0,j.useBlockProps)({className:y()("ystdb-balloon","ystdb-balloon-edit",r,{[`is-vertically-aligned-${o}`]:o,[`is-balloon-position-${a}`]:a})});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(Ot,{...t}),(0,N.jsx)(Bt,{...t}),(0,N.jsxs)("div",{...n,children:[(0,N.jsx)(zt,{...t}),(0,N.jsx)(Pt,{...t})]})]})}));function Lt(t){const{avatarSize:e,avatarURL:r,avatarAlt:o,avatarName:a,avatarBorderColor:n,customAvatarBorderColor:l,avatarBorderWidth:s,avatarBorderRadius:i,avatarNameColor:c,customAvatarNameColor:d}=t,u=y()("ystdb-balloon__avatar",{[`is-size-${e}`]:e}),b=(0,j.getColorClassName)("border-color",n),p={borderColor:l,borderWidth:0<s?s:void 0,borderRadius:i},v=y()("ystdb-balloon__avatar-image",{"has-border-color":b||l,[b]:b,"has-border":0<s}),x=(0,j.getColorClassName)("color",c),m=y()("ystdb-balloon__name",{[x]:x,"has-text-color":d||x}),f={color:d};return(0,N.jsxs)("figure",{className:u,children:[(0,N.jsx)("img",{className:v,style:p,src:r,alt:o||a}),a&&(0,N.jsx)("figcaption",{className:m,style:f,children:a})]})}function $t(t){const{text:e,verticalAlign:r,balloonType:o,balloonPosition:a,balloonBorderWidth:n,backgroundColor:l,customBackgroundColor:s,balloonBorderColor:i,customBalloonBorderColor:c,textColor:d,customTextColor:u,fontSize:b,customFontSize:p}=t,v=L(o),x={backgroundColor:$(o,s),borderColor:c,borderWidth:v?null!=n?n:"1px":void 0},m=(0,j.getColorClassName)("background-color",l),f=(0,j.getColorClassName)("border-color",i),h=y()("ystdb-balloon__body",{[m]:m,"has-background":m||s,[f]:f,"has-border-color":f||c,[`is-${r}`]:r,[`is-${a}`]:a,[`is-${o}`]:o}),g=(0,j.getColorClassName)("color",d),_=(0,j.getFontSizeClass)(b),C={color:g?void 0:u,fontSize:!_&&p?p:void 0},k=y()("ystdb-balloon__text",{[g]:g,"has-text-color":d||u,[_]:_}),w=7-parseInt(null!=n?n:1,10),B={backgroundColor:$(o,s),borderColor:c,borderWidth:null!=n?n:"1px",right:"right"===a?`calc(100% - ${w}px)`:void 0,left:"left"===a?`calc(100% - ${w}px)`:void 0},S=y()("ystdb-balloon__serif-triangle",{[m]:m,"has-background":m||s,[f]:f,"has-border-color":f||c});return(0,N.jsxs)("div",{className:h,style:x,children:[(0,N.jsx)(j.RichText.Content,{tagName:"p",className:k,style:C,value:e}),v&&(0,N.jsx)("div",{className:S,style:B,"aria-hidden":!0})]})}function Dt({attributes:t}){const{className:e,balloonPosition:r,verticalAlign:o}=t,a=j.useBlockProps.save({className:y()("ystdb-balloon",e,{[`is-vertically-aligned-${o}`]:o,[`is-balloon-position-${r}`]:r})});return(0,N.jsxs)("div",{...a,children:[(0,N.jsx)(Lt,{...t}),(0,N.jsx)($t,{...t})]})}const Wt={$schema:"https://raw.githubusercontent.com/WordPress/gutenberg/trunk/schemas/json/block.json",apiVersion:2,name:"ystdb/balloon",title:"吹き出し",description:"吹き出しブロック",version:"1.0.0",keywords:["balloon","吹き出し"],attributes:{avatarName:{type:"string",source:"html",selector:".ystdb-balloon__name"},avatarNameColor:{type:"string"},customAvatarNameColor:{type:"string"},avatarURL:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"src",default:"https://www.gravatar.com/avatar/000000000000000000000000000000?s=128&r=g&d=mp"},avatarAlt:{type:"string",source:"attribute",selector:".ystdb-balloon__avatar-image",attribute:"alt"},avatarID:{type:"number",default:0},avatarSize:{type:"string",default:"large"},avatarBorderColor:{type:"string"},customAvatarBorderColor:{type:"string"},avatarBorderWidth:{type:"integer",default:0},avatarBorderRadius:{type:"integer"},text:{type:"string",source:"html",selector:".ystdb-balloon__text"},balloonPosition:{type:"string",default:"right"},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},balloonBorderColor:{type:"string"},customBalloonBorderColor:{type:"string"},balloonBorderWidth:{type:"integer"},textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"string"},balloonType:{type:"string",default:"serif"},verticalAlign:{type:"string",default:"top"}},supports:{className:!1,align:!1},textdomain:"ystandard-blocks",editorScript:"file:./index.tsx",editorStyle:"file:./index.css",style:"file:./style-index.css"};!function(){const t=m(Wt.name,Wt.attributes);(0,x.registerBlockType)(Wt.name,{...Wt,icon:(0,N.jsx)(v,{stroke:"#4190be",style:{fill:"none"}}),category:"ystdb",attributes:t,edit:Tt,save:Dt,example:{}})}()},942:(t,e)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=l(t,n(r)))}return t}function n(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!=typeof t)return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)o.call(t,r)&&t[r]&&(e=l(e,r));return e}function l(t,e){return e?t?t+" "+e:t+e:t}t.exports?(a.default=a,t.exports=a):void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()}},r={};function o(t){var a=r[t];if(void 0!==a)return a.exports;var n=r[t]={exports:{}};return e[t](n,n.exports,o),n.exports}o.m=e,t=[],o.O=(e,r,a,n)=>{if(!r){var l=1/0;for(d=0;d<t.length;d++){for(var[r,a,n]=t[d],s=!0,i=0;i<r.length;i++)(!1&n||l>=n)&&Object.keys(o.O).every((t=>o.O[t](r[i])))?r.splice(i--,1):(s=!1,n<l&&(l=n));if(s){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[r,a,n]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={845:0,41:0};o.O.j=e=>0===t[e];var e=(e,r)=>{var a,n,[l,s,i]=r,c=0;if(l.some((e=>0!==t[e]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(i)var d=i(o)}for(e&&e(r);c<l.length;c++)n=l[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(d)},r=globalThis.webpackChunkystandard_blocks=globalThis.webpackChunkystandard_blocks||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a=o.O(void 0,[41],(()=>o(899)));a=o.O(a)})();