(()=>{var e,t={471:(e,t,n)=>{"use strict";const o=window.React;var r=n.n(o),s=n(556),a=n.n(s);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}var l=(0,o.forwardRef)((function(e,t){var n=e.color,o=void 0===n?"currentColor":n,s=e.size,a=void 0===s?24:s,l=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["color","size"]);return r().createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),r().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="Maximize";const c=l,d=window.wp.blocks,u=window.lodash,p=window.wp.i18n;(0,p.__)("なし","ystandard-blocks"),(0,p.__)("キラキラ","ystandard-blocks");var h=n(942),y=n.n(h);const b=window.wp.blockEditor,m=window.wp.data,x=window.wp.components,f=window.ReactJSXRuntime;function g(e){return(0,f.jsx)(x.BaseControl,{...e,__nextHasNoMarginBottom:!0})}const _=window.wp.element;function k(e){const{title:t,initialOpen:n,children:o}=e,[r,s]=(0,_.useState)(!1),a=()=>{"function"==typeof n&&s(n()),s(null!=n&&n)};return(0,_.useEffect)((()=>{a()}),[]),(0,_.useEffect)((()=>{a()}),[n]),(0,f.jsx)(x.PanelBody,{title:t,initialOpen:r,onToggle:()=>{s(!r)},children:o})}function v({className:e,type:t="info",children:n,...o}){const r={className:y()("ystd-component-notice",e,`is-${t}`),...o};return(0,f.jsx)("div",{...r,children:n})}const j=({attributes:e,setAttributes:t})=>{const{hideSp:n,hideMd:o,hideLg:r}=e;return(0,f.jsxs)(k,{title:(0,p.__)("画面サイズ別非表示設定","ystandard-blocks"),initialOpen:n||o||r,children:[(0,f.jsx)(g,{id:"notice",children:(0,f.jsx)(v,{type:"help",children:(0,p.__)("各デバイスの画面サイズでブロックを非表示にできます。","ystandard-blocks")})}),(0,f.jsxs)(g,{id:"device",children:[(0,f.jsx)(x.ToggleControl,{label:(0,p.__)("スマートフォンサイズで非表示","ystandard-blocks"),checked:n,onChange:e=>{t({hideSp:e})},__nextHasNoMarginBottom:!0}),(0,f.jsx)(x.ToggleControl,{label:(0,p.__)("タブレットサイズで非表示","ystandard-blocks"),checked:o,onChange:e=>{t({hideMd:e})},__nextHasNoMarginBottom:!0}),(0,f.jsx)(x.ToggleControl,{label:(0,p.__)("PCサイズで非表示","ystandard-blocks"),checked:r,onChange:e=>{t({hideLg:e})},__nextHasNoMarginBottom:!0})]})]})};function w({attributes:e,setAttributes:t}){const{hideAMP:n,onlyAMP:o}=e,r=(s="useAmp",window.ystdb&&"object"==typeof window.ystdb&&window.ystdb.hasOwnProperty(s)?window.ystdb[s]:undefined);var s;return(0,f.jsx)(f.Fragment,{children:!!r&&(0,f.jsxs)(k,{title:(0,p.__)("AMP 表示・非表示 設定","ystandard-blocks"),initialOpen:n||o,children:[(0,f.jsx)(g,{id:"amp-help",children:(0,f.jsx)(v,{type:"help",children:(0,p.__)("AMPページでの表示・非表示設定","ystandard-blocks")})}),(0,f.jsxs)(g,{id:"amp-enable",children:[(0,f.jsx)(x.ToggleControl,{label:(0,p.__)("AMPページで非表示","ystandard-blocks"),checked:n,onChange:e=>{t({hideAMP:e})},__nextHasNoMarginBottom:!0}),(0,f.jsx)(x.ToggleControl,{label:(0,p.__)("AMPページのみ表示","ystandard-blocks"),checked:o,onChange:e=>{t({onlyAMP:e})},__nextHasNoMarginBottom:!0})]})]})})}function O(e){return(0,f.jsx)("div",{className:"ystdb__horizon-buttons",children:e.children})}const T=[{label:(0,p.__)("表示","ystandard-blocks"),value:"only"},{label:(0,p.__)("非表示","ystandard-blocks"),value:"hide"}];function C(e){const{attributes:t,setAttributes:n}=e,{taxFilterType:o}=t,r=o||"only";return(0,f.jsxs)(g,{id:"filter-type",label:(0,p.__)("表示・非表示タイプ","ystandard-blocks"),children:[(0,f.jsx)(O,{children:T.map((e=>{const t=e.value===r?"primary":"secondary";return(0,f.jsx)(x.Button,{variant:t,onClick:()=>{n({taxFilterType:e.value})},children:(0,f.jsx)("span",{children:e.label})},e.value)}))}),(0,f.jsx)(v,{type:"help",children:(0,p.__)("選択したカテゴリー・タグ・タクソノミーがついたページのみでこのブロックが表示されるか、非表示になるか選択します","ystandard-blocks")})]})}const P=window.wp.coreData,S=[{key:"",name:(0,p.__)("--選択--","ystandard-blocks"),style:{fontSize:"1em"}}];function B({value:e,options:t,onChange:n,label:o="",useDefaultItem:r=!0,...s}){const a=t.find((t=>t.key===e)),i=r?[...S,...t]:t;return(0,f.jsx)(x.CustomSelectControl,{label:o,options:i,value:a,onChange:({selectedItem:e})=>{n(e.key)},...s,__next40pxDefaultSize:!0})}function M({label:e,value:t,postType:n,onChange:o,allTaxonomies:r}){const{selectedPostType:s,taxonomy:a,hasResolved:i}=(0,m.useSelect)((e=>{const{getPostType:t,getTaxonomies:o}=e(P.store),r=o({per_page:-1})||[],s=e(P.store).hasFinishedResolution("getPostType",[n]),a=e(P.store).hasFinishedResolution("getTaxonomies",[{per_page:-1}]);return{selectedPostType:t(n),taxonomy:r.filter((e=>e?.visibility?.show_ui)),hasResolved:s&&a}})),l=(0,_.useMemo)((()=>!0===r?(e=>e.map((e=>e?.slug)))(a)||[]:s?.taxonomies||[]),[s,a,r]),c=(0,_.useMemo)((()=>l.map((e=>{const t=a.filter((t=>e===t?.slug));return t?{key:t[0].slug,name:t[0].name,style:{fontSize:"1em"}}:{}}))),[a,l]);return(0,f.jsx)(f.Fragment,{children:i?(0,f.jsx)(f.Fragment,{children:1<=c.length?(0,f.jsx)(B,{className:"aktk-taxonomy-select",label:e,value:t,options:c,onChange:e=>{o(e)},__nextUnconstrainedWidth:!0}):(0,f.jsx)(v,{type:"help",children:(0,p.__)("選択できる項目がありません。","ystandard-blocks")})}):(0,f.jsx)(x.Spinner,{})})}const A=e=>{const{attributes:t,setAttributes:n}=e,{taxonomy:o}=t;return(0,f.jsx)(g,{id:"taxonomy",children:(0,f.jsx)(M,{label:(0,p.__)("分類","ystandard-blocks"),value:o,onChange:e=>{n({taxonomy:e,terms:void 0})},allTaxonomies:!0})})};function N({taxonomy:e,selectedTerms:t,onChange:n}){const o=(0,_.useMemo)((()=>t||[]),[t]),{availableTerms:r,hasResolved:s}=(0,m.useSelect)((t=>{const{getEntityRecords:n}=t(P.store);return{availableTerms:n("taxonomy",e,{per_page:-1})||[]||[],hasResolved:t(P.store).hasFinishedResolution("getEntityRecords",["taxonomy",e,{per_page:-1}])||!1}})),a=(0,_.useMemo)((()=>function(e,t){if(!e)return;const n=e=>-1!==t.indexOf(e.id)||void 0!==e.children&&e.children.map(n).filter((e=>e)).length>0,o=[...e];return o.sort(((e,t)=>{const o=n(e),r=n(t);return o===r?0:o&&!r?-1:!o&&r?1:0})),o}(function(e){if(!e)return;const t=e.map((e=>({children:[],parent:null,...e}))),n=(0,u.groupBy)(t,"parent");if(n.null&&n.null.length)return t;const o=e=>e.map((e=>{const t=n[e.id];return{...e,children:t&&t.length?o(t):[]}}));return o(n[0]||[])}(r),o)),[r,o]),i=e=>e.map((e=>(0,f.jsxs)("div",{className:"aktk-hierarchical-terms-list__choice",children:[(0,f.jsx)(x.CheckboxControl,{checked:-1!==o.indexOf(e.id),onChange:()=>{(e=>{const t=o.includes(e)?(0,u.without)(o,e):[...o,e];n(t)})(parseInt(e.id,10))},label:(0,u.unescape)(e.name)}),!!e.children.length&&(0,f.jsx)("div",{className:"aktk-hierarchical-terms-list__subchoices",children:i(e.children)})]},e.id)));return(0,f.jsx)(f.Fragment,{children:!!e&&(0,f.jsx)("div",{className:"aktk-hierarchical-terms-list",tabIndex:0,role:"group","aria-label":"Terms",children:(l=a,Array.isArray(l)&&0===l.length?(0,f.jsx)(f.Fragment,{children:s?(0,f.jsx)(v,{type:"help",children:(0,p.__)("選択できる項目がありません。","ystandard-blocks")}):(0,f.jsx)(x.Spinner,{})}):(0,f.jsx)(f.Fragment,{children:i(a)}))})});var l}const E=(0,p.__)("カテゴリー・タグ","ystandard-blocks");function R(e){const{attributes:t,setAttributes:n}=e,{taxonomy:o,terms:r}=t,{taxonomyLabel:s}=(0,m.useSelect)((e=>{const{getTaxonomy:t}=e(P.store),n=t(o);return n&&n.hasOwnProperty("name")?{taxonomyLabel:n?.name||E}:{taxonomyLabel:E}}));return(0,f.jsx)(f.Fragment,{children:!!o&&(0,f.jsx)(g,{id:"hierarchical-term-selector",label:s,children:(0,f.jsx)(N,{taxonomy:o,selectedTerms:r,onChange:e=>{n({terms:e})}})})})}const F=(0,p.__)("カテゴリー","ystandard-blocks");function I(e){const{attributes:t,setAttributes:n}=e,{taxonomy:o,applyChildren:r}=t,{hierarchical:s,taxonomyLabel:a}=(0,m.useSelect)((e=>{var t;const{getTaxonomy:n}=e(P.store),r=n(o);return r?{hierarchical:null!==(t=r?.hierarchical)&&void 0!==t&&t,taxonomyLabel:r?.name||F}:{hierarchical:!1,taxonomyLabel:F}}));return(0,f.jsx)(f.Fragment,{children:s&&(0,f.jsx)(g,{id:"apply-children",children:(0,f.jsx)(x.ToggleControl,{label:`${a}${(0,p.__)("にも表示・非表示条件を適用する","ystandard-blocks")}`,checked:r,onChange:e=>{n({applyChildren:e})},__nextHasNoMarginBottom:!0})})})}const L=e=>{const{attributes:t}=e,{taxonomy:n}=t;return(0,f.jsxs)(k,{title:(0,p.__)("カテゴリー・タグ別非表示設定","ystandard-blocks"),initialOpen:!!n,children:[(0,f.jsx)(C,{...e}),(0,f.jsx)(A,{...e}),(0,f.jsx)(R,{...e}),(0,f.jsx)(I,{...e})]})},H=e=>(0,f.jsxs)(b.InspectorControls,{children:[(0,f.jsx)(j,{...e}),(0,f.jsx)(L,{...e}),(0,f.jsx)(w,{...e})]});function z(e){const{clientId:t}=e,{hasInnerBlocks:n}=(0,m.useSelect)((e=>{const{getBlock:n}=e(b.store),o=n(t);return{hasInnerBlocks:o&&o.innerBlocks.length}})),o=(0,b.useBlockProps)({className:y()("ystdb-conditional-group")}),r=(0,b.useInnerBlocksProps)({className:y()("ystdb-conditional-group__inner")},{renderAppender:n?void 0:()=>(0,f.jsx)(b.InnerBlocks.ButtonBlockAppender,{})});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(H,{...e}),(0,f.jsx)("div",{...o,children:(0,f.jsx)("div",{...r})})]})}function W(){return(0,f.jsx)(b.InnerBlocks.Content,{})}const D={$schema:"https://raw.githubusercontent.com/WordPress/gutenberg/trunk/schemas/json/block.json",apiVersion:2,name:"ystdb/conditional-group-block",title:"条件付きグループブロック",description:"条件により表示・非表示を切り替えできるグループブロック",version:"2.0.0",keywords:["cgb","条件付きグループブロック","conditional group block","グループブロック"],attributes:{hideSp:{type:"boolean",default:!1},hideMd:{type:"boolean",default:!1},hideLg:{type:"boolean",default:!1},taxFilterType:{type:"string",default:"only"},taxonomy:{type:"string"},terms:{type:"array"},applyChildren:{type:"boolean",default:!1},hideAMP:{type:"boolean",default:!1},onlyAMP:{type:"boolean",default:!1}},supports:{className:!1,html:!1,align:!1,ystdtdHiddenBySize:!1},textdomain:"ystandard-blocks",editorScript:"file:./index.tsx",editorStyle:"file:./index.css",style:"file:./style-index.css"};!function(){const e=((e,t)=>{const n=window.ystdtbBlockEditor&&"object"==typeof window.ystdtbBlockEditor&&window.ystdtbBlockEditor.hasOwnProperty("defaultAttributes")?window.ystdtbBlockEditor.defaultAttributes:{};if(!n)return t;if(!n.hasOwnProperty(e))return t;const o=n[e];return Object.keys(o).map((e=>(t.hasOwnProperty(e)&&(t[e].default=o[e]),o))),t})(D.name,D.attributes);(0,d.registerBlockType)(D.name,{...D,icon:(0,f.jsx)(c,{stroke:"#4190be",style:{fill:"none"}}),category:"ystdb",attributes:e,edit:z,save:W,example:{}})}()},556:(e,t,n)=>{e.exports=n(694)()},694:(e,t,n)=>{"use strict";var o=n(925);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,a){if(a!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,r,s)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,r,s]=e[d],i=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(i=!1,s<a&&(a=s));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={546:0,62:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[a,i,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var d=l(o)}for(t&&t(n);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},n=globalThis.webpackChunkystandard_blocks=globalThis.webpackChunkystandard_blocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[62],(()=>o(471)));r=o.O(r)})();